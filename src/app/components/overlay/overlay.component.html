<!-- Backdrop -->
<div class="fixed inset-0 z-40 bg-black bg-opacity-30 transition-opacity" (click)="handleClose()"></div>

<!-- Drawer -->
<div
  class="fixed inset-y-0 right-0 z-50 w-full max-w-md bg-white shadow-lg transform transition-transform duration-300 ease-in-out"
  [ngClass]="open ? 'translate-x-0' : 'translate-x-full'"
>
  <div class="h-full flex flex-col p-4">
    
    <!-- Header -->
    <div class="flex justify-between items-start border-b pb-2 mb-4">
      <div>
        <h2 class="text-lg font-semibold text-gray-800">{{ companyName }}</h2>
        <div class="text-sm text-gray-500 mt-1">ID: {{ recordId }}</div>
      </div>
      <button (click)="handleClose()" class="text-gray-500 hover:text-black text-xl">Ã—</button>
    </div>

    <!-- Dynamic Sections -->
    <ng-container *ngFor="let section of sections">
      <app-section
        [title]="section.title"
        [icon]="section.icon"
        [tags]="section.tags || []"
        [items]="section.items || []"
        [columns]="section.columns"
        [expanded]="expandedSection === section.title"
        (toggle)="toggleSection(section.title)">
      </app-section>
    </ng-container>
  </div>
</div>
